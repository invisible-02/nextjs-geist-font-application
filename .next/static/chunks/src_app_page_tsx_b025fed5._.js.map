{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useSession, signIn, signOut } from \"next-auth/react\";\n\ninterface Question {\n  id: number;\n  question: string;\n  options: string[];\n}\n\nexport default function HomePage() {\n  const { data: session, status } = useSession();\n  const [questions, setQuestions] = useState<Question[]>([]);\n  const [answers, setAnswers] = useState<Record<number, string>>({});\n  const [loading, setLoading] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    if (status === \"authenticated\") {\n      fetch(\"/api/questions\")\n        .then((res) => res.json())\n        .then((data) => setQuestions(data))\n        .catch((err) => console.error(err));\n    }\n  }, [status]);\n\n  if (status === \"loading\") {\n    return <div>Loading...</div>;\n  }\n\n  if (status === \"unauthenticated\") {\n    return (\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-50\">\n        <h1 className=\"text-3xl font-bold mb-6\">Please sign in to answer questions</h1>\n        <button\n          onClick={() => signIn()}\n          className=\"px-6 py-3 bg-black text-white rounded hover:bg-gray-800 transition\"\n        >\n          Sign In\n        </button>\n      </div>\n    );\n  }\n\n  const handleChange = (id: number, value: string) => {\n    setAnswers((prev) => ({ ...prev, [id]: value }));\n  };\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(\"/api/answers\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ userId: session?.user?.email, answers }),\n      });\n      if (response.ok) {\n        setSubmitted(true);\n      } else {\n        alert(\"Failed to submit answers\");\n      }\n    } catch (error) {\n      alert(\"Error submitting answers\");\n    }\n    setLoading(false);\n  };\n\n  if (submitted) {\n    return (\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-50\">\n        <h1 className=\"text-3xl font-bold mb-6\">Thank you for your submission!</h1>\n        <button\n          onClick={() => signOut()}\n          className=\"px-6 py-3 bg-black text-white rounded hover:bg-gray-800 transition\"\n        >\n          Sign Out\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-4xl mx-auto bg-white p-6 rounded shadow\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h1 className=\"text-2xl font-bold\">Answer the Questions</h1>\n          <button\n            onClick={() => signOut()}\n            className=\"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition\"\n          >\n            Sign Out\n          </button>\n        </div>\n        <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\n          {questions.map((q) => (\n            <div key={q.id} className=\"flex flex-col\">\n              <label className=\"font-semibold mb-1\">{q.question}</label>\n              <div className=\"flex space-x-4\">\n                {q.options.map((option) => (\n                  <label key={option} className=\"inline-flex items-center space-x-2\">\n                    <input\n                      type=\"radio\"\n                      name={`question-${q.id}`}\n                      value={option}\n                      checked={answers[q.id] === option}\n                      onChange={() => handleChange(q.id, option)}\n                      className=\"form-radio\"\n                    />\n                    <span>{option}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n        <button\n          onClick={handleSubmit}\n          disabled={loading}\n          className=\"mt-6 w-full bg-black text-white py-3 rounded hover:bg-gray-800 transition\"\n        >\n          {loading ? \"Submitting...\" : \"Submit Answers\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}